<Window x:Class="SnippetIO.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Snippet Manager" Height="450" Width="800"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
        Background="#222" Foreground="White" FontFamily="Segoe UI" Loaded="Window_Loaded" Closed="Window_Closed">

    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1.5*" />
            <!-- List Area -->
            <ColumnDefinition Width="3*" />
            <!-- Input Area -->
        </Grid.ColumnDefinitions>

        <!-- Left: Snippet List -->
        <Border CornerRadius="10" BorderThickness="1" BorderBrush="{StaticResource PrimaryBrush}">
            <DataGrid x:Name="SnippetGrid"
              SelectionMode="Single"
              SelectionUnit="FullRow"
              Background="{StaticResource PrimaryBrush}"
              Foreground="{StaticResource SecondaryBrush}"
              BorderThickness="0"
              AutoGenerateColumns="False"
              ItemsSource="{Binding CodeSnippetsList, Mode=TwoWay}"
              SelectedItem="{Binding SelectedSnippet, Mode=TwoWay}" 
              HorizontalContentAlignment="Left"
              IsReadOnly="True"
              HeadersVisibility="Column"
              RowDetailsVisibilityMode="VisibleWhenSelected" 
              MouseDoubleClick="CodeSnippetsList_MouseDoubleClick"
              FontSize="14">

                <DataGrid.Resources>
                    <!-- Header Style -->
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="{StaticResource PrimaryBrush}"/>
                        <Setter Property="Foreground" Value="{StaticResource SecondaryBrush}"/>
                        <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}"/>
                        <Setter Property="BorderThickness" Value="0.2"/>
                        <Setter Property="Padding" Value="5"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="DataGridColumnHeader">
                                    <Border Background="{TemplateBinding Background}" 
                                    BorderBrush="{TemplateBinding BorderBrush}" 
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="10">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        
                    </Style>


                    <Style TargetType="DataGridRow">
                        <Setter Property="Background" Value="{StaticResource ContainerBrush}"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="DataGridRow">
                                    <Border Background="{StaticResource ContainerBrush}">
                                        <DataGridCellsPresenter/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        
                    </Style>
                    
                    <!-- Cell Style -->
                    <Style TargetType="DataGridCell">
                        <Setter Property="Background" Value="{StaticResource PrimaryBrush}"/>
                        <Setter Property="Foreground" Value="{StaticResource SecondaryBrush}"/>
                        <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}"/>
                        <Setter Property="BorderThickness" Value="0.2"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="DataGridCell">
                                    <Border Background="{TemplateBinding Background}" 
                                    BorderBrush="{TemplateBinding BorderBrush}" 
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="10">
                                        <ContentPresenter HorizontalAlignment="Stretch" VerticalAlignment="Center" Margin="5"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="{StaticResource SelectedColorBrush}"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </DataGrid.Resources>

                <DataGrid.Columns>
                    <DataGridTextColumn Binding="{Binding Id}" Header="Name" Width="*"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>



        <!-- Right: Input Section -->
        <StackPanel Grid.Column="1" Margin="20">
            <!-- Shortcut Input -->
            <TextBlock Text="Shortcut:" FontSize="16" Margin="0,0,0,5"/>
            <TextBox x:Name="NewShortcutBox"
                     Height="35"
                     Background="#444"
                     Foreground="White"
                     BorderThickness="0"
                     Padding="5"
                     FontSize="14"
                     IsReadOnly="True"
                     Text="{Binding SelectedSnippet.Shortcut, Mode=TwoWay}"/>

            <!-- Snippet Content -->
            <TextBlock Text="Snippet Content:" FontSize="16" Margin="0,15,0,5"/>
            <TextBox x:Name="SnippetContentBox"
                     Height="200"
                     Background="#444"
                     Foreground="White"
                     BorderThickness="0"
                     Padding="5"
                     FontSize="14"
                     AcceptsReturn="True"
                     TextWrapping="Wrap"
                     Text="{Binding SelectedSnippet.Code, Mode=TwoWay}"/>
        </StackPanel>
    </Grid>
</Window>
